# ğŸ¬ æ–°ã—ã„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼: å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ–¹å¼

## ğŸ“‹ æ¦‚è¦

Cookieã®å•é¡Œã‚’è§£æ¶ˆã™ã‚‹ãŸã‚ã€æ–°ã—ã„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè£…ã—ã¾ã—ãŸï¼š

1. âœ… **è¦‹ã©ã“ã‚æ¤œå‡º**ï¼ˆè‡ªå‹•ï¼‰ - YouTube Analytics APIã§è¦–è´ç¶­æŒç‡ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆã‚’åˆ†æ
2. âœ… **å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰**ï¼ˆæ‰‹å‹•ï¼‰ - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå‹•ç”»ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
3. âœ… **åˆ‡ã‚ŠæŠœãç”Ÿæˆ**ï¼ˆè‡ªå‹•ï¼‰ - ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸå‹•ç”»ã‹ã‚‰åˆ‡ã‚ŠæŠœãã‚’è‡ªå‹•ç”Ÿæˆ

---

## ğŸ¯ ãƒ¡ãƒªãƒƒãƒˆ

- âœ… **Cookieã®å•é¡ŒãŒå®Œå…¨ã«è§£æ¶ˆ**
- âœ… **yt-dlpã®403ã‚¨ãƒ©ãƒ¼ãªã—**
- âœ… **YouTubeåˆ©ç”¨è¦ç´„ã«å®Œå…¨æº–æ‹ **
- âœ… **Webã ã‘ã§å®Œçµ**

---

## ğŸ”§ å®Ÿè£…çŠ¶æ³

### âœ… å®Œäº†

- [x] `/api/test-video` - è¦‹ã©ã“ã‚æ¤œå‡ºAPIï¼ˆå‹•ç”»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚’å‰Šé™¤ï¼‰
- [x] `/api/upload-video` - å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰API
- [x] `/api/job-status/<job_id>` - å‡¦ç†çŠ¶æ³ç¢ºèªAPI
- [x] `/api/download/<video_id>` - å®Œæˆå‹•ç”»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰API
- [x] ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†ï¼ˆåˆ‡ã‚ŠæŠœãç”Ÿæˆãƒ»å­—å¹•ç”Ÿæˆï¼‰

### â³ é€²è¡Œä¸­

- [ ] Web UIã®æ›´æ–°ï¼ˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒ  + ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ï¼‰
- [ ] ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### ğŸ“ TODO

- [ ] Google Driveé€£æºï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

---

## ğŸ“¡ APIä»•æ§˜

### 1. è¦‹ã©ã“ã‚æ¤œå‡º

```http
POST /api/test-video
Content-Type: application/json

{
  "video_id": "dQw4w9WgXcQ"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "success": true,
  "message": "è¦‹ã©ã“ã‚ã‚’æ¤œå‡ºã—ã¾ã—ãŸã€‚å‹•ç”»ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚",
  "video_id": "dQw4w9WgXcQ",
  "video_title": "Rick Astley - Never Gonna Give You Up",
  "video_duration": 214,
  "highlights": [
    {"start": 45, "end": 75, "score": 0.85},
    {"start": 80, "end": 110, "score": 0.82}
  ],
  "highlights_count": 5
}
```

### 2. å‹•ç”»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

```http
POST /api/upload-video
Content-Type: multipart/form-data

video: <file>
video_id: dQw4w9WgXcQ
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "success": true,
  "job_id": "uuid-12345",
  "message": "å‡¦ç†ã‚’é–‹å§‹ã—ã¾ã—ãŸ"
}
```

### 3. å‡¦ç†çŠ¶æ³ç¢ºèª

```http
GET /api/job-status/{job_id}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆå‡¦ç†ä¸­ï¼‰:**
```json
{
  "success": true,
  "status": "processing",
  "progress": 45,
  "message": "ã‚¯ãƒªãƒƒãƒ—ã‚’ç”Ÿæˆä¸­..."
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹ï¼ˆå®Œäº†ï¼‰:**
```json
{
  "success": true,
  "status": "completed",
  "progress": 100,
  "message": "åˆ‡ã‚ŠæŠœãå‹•ç”»ãŒå®Œæˆã—ã¾ã—ãŸï¼",
  "output_file": "/tmp/outputs/dQw4w9WgXcQ_highlight.mp4",
  "subtitle_file": "/tmp/outputs/dQw4w9WgXcQ_highlight.srt",
  "download_url": "/api/download/dQw4w9WgXcQ"
}
```

### 4. å®Œæˆå‹•ç”»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

```http
GET /api/download/{video_id}
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: è¦‹ã©ã“ã‚æ¤œå‡º

```bash
curl -X POST https://create-cut-out-videos.onrender.com/api/test-video \
  -H "Content-Type: application/json" \
  -d '{"video_id": "dQw4w9WgXcQ"}'
```

### ã‚¹ãƒ†ãƒƒãƒ—2: å‹•ç”»ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆæ‰‹å‹•ï¼‰

YouTubeã‹ã‚‰å‹•ç”»ã‚’æ‰‹å‹•ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆyt-dlpç­‰ã‚’ä½¿ç”¨ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—3: å‹•ç”»ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

```bash
curl -X POST https://create-cut-out-videos.onrender.com/api/upload-video \
  -F "video=@./dQw4w9WgXcQ.mp4" \
  -F "video_id=dQw4w9WgXcQ"
```

### ã‚¹ãƒ†ãƒƒãƒ—4: å‡¦ç†çŠ¶æ³ã‚’ç¢ºèª

```bash
curl https://create-cut-out-videos.onrender.com/api/job-status/{job_id}
```

### ã‚¹ãƒ†ãƒƒãƒ—5: å®Œæˆå‹•ç”»ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

```bash
curl -O https://create-cut-out-videos.onrender.com/api/download/dQw4w9WgXcQ
```

---

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **Web UIã®æ›´æ–°** - drag&drop + progress bar
2. **Renderã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤** - è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆç´„5-10åˆ†ï¼‰
3. **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ** - å®Ÿéš›ã®å‹•ç”»ã§ãƒ†ã‚¹ãƒˆ
4. **Google Driveé€£æº**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

---

## â“ ã‚ˆãã‚ã‚‹è³ªå•

### Q: å‹•ç”»ã¯ã©ã“ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚Œã°ã„ã„ï¼Ÿ

A: ä»¥ä¸‹ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ï¼š
- **æ–¹æ³•1:** YouTube Studioã‹ã‚‰ç›´æ¥ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆè‡ªåˆ†ã®å‹•ç”»ã®å ´åˆï¼‰
- **æ–¹æ³•2:** yt-dlpã‚’ãƒ­ãƒ¼ã‚«ãƒ«PCã§å®Ÿè¡Œ
  ```bash
  yt-dlp -f "best[ext=mp4]" https://www.youtube.com/watch?v=VIDEO_ID
  ```

### Q: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¯ï¼Ÿ

A: æœ€å¤§2GBã¾ã§ï¼ˆ`MAX_CONTENT_LENGTH = 2GB`ï¼‰

### Q: å‡¦ç†ã«ã©ã®ãã‚‰ã„æ™‚é–“ãŒã‹ã‹ã‚‹ï¼Ÿ

A: å‹•ç”»ã®é•·ã•ã«ã‚ˆã‚Šã¾ã™ãŒã€ç›®å®‰ï¼š
- 10åˆ†ã®å‹•ç”»: ç´„2-3åˆ†
- 1æ™‚é–“ã®å‹•ç”»: ç´„5-10åˆ†

### Q: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¯ãƒ¼ã‚«ãƒ¼ã¯ä¸è¦ï¼Ÿ

A: ã¯ã„ã€ã“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ã¯Renderã ã‘ã§å®Œçµã™ã‚‹ãŸã‚ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¯ãƒ¼ã‚«ãƒ¼ã¯ä¸è¦ã§ã™ã€‚

---

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤çŠ¶æ³

- **ã‚³ãƒŸãƒƒãƒˆ:** d11f2cf
- **ãƒ–ãƒ©ãƒ³ãƒ:** main
- **Renderãƒ‡ãƒ—ãƒ­ã‚¤:** è‡ªå‹•é–‹å§‹ï¼ˆç´„5-10åˆ†ï¼‰

---

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒã‚ã‚Œã°å ±å‘Šã—ã¦ãã ã•ã„ï¼
